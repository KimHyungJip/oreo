<img src="img/pastry.jpg" alt="pastry" />

<div class="d-flex justify-content-between align-items-end" style="margin-bottom: 10px">
    <h2>오늘의 상품</h2>
</div>
<section>
    <div id="main-products">
        <div class="row row-cols-1 row-cols-md-3 g-4">
        <% products.forEach(product => { %>
          <div class="col">
            <div class="card h-100">
              <img src="<%= product.product_image %>" class="card-img-top" alt="...">
              <div class="card-body">
                <h3 class="card-title"><%= product.product_name %></h3>
                <p class="card-text"><%= product.product_detail %></p>
                <h5 class="card-title"><%= product.product_price %></h5>
                <h5>
                  <!-- <form action="/public/js/api.js">
                  <%! const item_quantity = 0 %>
                  <input type="number" name="item_quantity"value="<%=item_quantity%>" min="1" max="9">
                  <input type="submit" value="담기"onclick="postCart(<%= product.product_id %>,<%=item_quantity%>)" ></a> -->
                  <!-- <input type="number" name="favnum" min="1" max="9" id='product.product_id' value='item_quantity'>
                  <a onclick="postCart(<%= product.product_id %>)" class="btn btn-outline-secondary" type="button" >담기</button> -->
                  <!-- <a onclick="postCart(<%= product.product_id %>,<%=item_quantity%>)" class="btn btn-outline-secondary" type="button" >담기</button>
                  </a>           -->
                  </form>
                </h5>
                <!-- product_id item_quantity 받아와야함 -->
              </div>
            </div>
          </div>
        <% }) %>
        </div>
    </div>

    <!-- 페이징 -->
    <div id="pagination">
        <nav aria-label="Page navigation">
          <ul class="pagination justify-content-center">
            <% if (chunk_start - 1 > 0) { %>
                <li class="page-item">
                    <a class="page-link" href="/?page=<%= chunk_start - 1 %>" tabindex="-1"
                       aria-disabled="true">Previous</a>
                </li>
            <% } %>
            <% for (let i = chunk_start; i <= chunk_end; i++) { %>
                <!-- 무조건 5페이지씩 버튼 다는 게 아니라 데이터가 존재하지 않는 페이지는 화면에 나타내지 않기 위한 조건문 -->
                <% if (i <= last_page_num) { %>
                    <% if (i == page) { %>
                        <li class="page-item active" aria-current="page">
                            <span class="page-link"><%= i %></span>
                        </li>
                    <% } else { %>
                        <li class="page-item"><a class="page-link"
                             href="/?page=<%= i %>"><%= i %></a></li>
                    <% } %>
                <% } %>
            <% } %>
            <% if (chunk_end < last_page_num) { %>
                <li class="page-item">
                    <a class="page-link" href="/?page=<%= chunk_end + 1 %>">Next</a>
                </li>
            <% } %>
          </ul>
        </nav>
    </div>
</section>
